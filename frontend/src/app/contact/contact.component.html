<h1>Contacto</h1>

@if (loading) {
  <section><p>Cargando información de contacto...</p></section>
}
@if (error) {
  <section><p style="color:red;">Error al cargar info de contacto.</p></section>
}

@if (!loading && !error) {
  <div>
    @for (info of contactInfo; track info) {
      <div>
        <strong>{{ info.infoLabel }}:</strong> {{ info.infoValue }}
      </div>
    }
  </div>
}

<form (ngSubmit)="onSubmit()" #f="ngForm" style="margin-top:12px;">
  <label>Nombre:
    <input type="text" [(ngModel)]="contactName" name="contactName" required />
  </label>
  <br />
  <label>Email:
    <input type="email" [(ngModel)]="contactEmail" name="contactEmail" required />
  </label>
  <br />
  <label>Mensaje:
    <textarea [(ngModel)]="contactMessage" name="contactMessage" required></textarea>
  </label>
  <br />
  <button type="submit" [disabled]="sending || !f.form.valid">Enviar</button>
</form>

@if (sending) {
  <div>Enviando...</div>
}
@if (success === true) {
  <div>¡Mensaje enviado correctamente!</div>
}
@if (success === false) {
  <div>Error al enviar mensaje. Intenta de nuevo.</div>
}
